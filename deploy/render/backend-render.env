# Smart Factory IoT Backend - Render environment template
# Upload this file in Render (Environment -> Import .env file), then replace placeholder values.
# Use one Render service per backend service, and set SERVICE_NAME accordingly.

# -----------------------------
# Required on all services
# -----------------------------
ASPNETCORE_ENVIRONMENT=Production
SERVICE_NAME=DeviceService

# Render web services expect the app to listen on the internal port.
# If your Render service uses a different internal port, update this value.
ASPNETCORE_URLS=http://+:10000

# Shared infrastructure
RabbitMqConnectionString=amqp://<RABBIT_USER>:<RABBIT_PASSWORD>@<RABBIT_HOST>:5672
ConnectionStrings__DefaultConnection=Host=<POSTGRES_HOST>;Port=<POSTGRES_PORT>;Database=<POSTGRES_DB>;Username=<POSTGRES_USER>;Password=<POSTGRES_PASSWORD>;SSL Mode=Require;Trust Server Certificate=true;

# TelemetryService PostgreSQL connection string
PostgresConnectionString=Host=<POSTGRES_HOST>;Port=<POSTGRES_PORT>;Database=<POSTGRES_DB>;Username=<POSTGRES_USER>;Password=<POSTGRES_PASSWORD>;SSL Mode=Require;Trust Server Certificate=true;

# Optional for TelemetryService MQTT ingestion
MqttBrokerHost=<MQTT_HOST>
MqttBrokerPort=1883
MqttTopic=smartfactory/telemetry
MqttUsername=<MQTT_USERNAME>
MqttPassword=<MQTT_PASSWORD>

# -----------------------------
# IdentityService / JWT (Azure AD)
# -----------------------------
AzureAd__Instance=https://login.microsoftonline.com/
AzureAd__TenantId=<AZURE_AD_TENANT_ID>
AzureAd__ClientId=<AZURE_AD_CLIENT_ID>
AzureAd__ClientSecret=<AZURE_AD_CLIENT_SECRET>

# -----------------------------
# NotificationService (Microsoft Graph)
# -----------------------------
GraphApi__BaseUrl=https://graph.microsoft.com/v1.0
GraphApi__Scopes=User.Read Mail.Send

# -----------------------------
# Optional logging override
# -----------------------------
Logging__LogLevel__Default=Information
